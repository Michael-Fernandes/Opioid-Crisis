{"version":3,"sources":["logo.svg","Components/Legend/ActiveIcon.js","Components/Legend/Active.js","Components/Legend/CountryList.js","Components/Legend/Legend.js","Components/Chart.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","ActiveIcon","props","style","active","Object","objectSpread","fill","colors","name","console","log","react_default","a","createElement","xmlns","width","height","viewBox","className","cx","cy","r","Active","isSearching","activeCountries","length","map","el","index","key","onClick","country","toggleActive","Legend_ActiveIcon","padding","CountryList","countries","Legend","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","search","bind","assertThisInitialized","searchChange","setState","event","target","value","_this$state","filter","getActive","type","placeholder","onChange","Legend_Active","Legend_CountryList","Component","Chart","makeD3","fauxDiv","ReactFauxDOM","activeNames","activeData","getDataActive","margin","x","d3","range","y","svg","append","attr","parseYear","sample","data","domain","d","year","getDomain","val","valueline","Date","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","countryData","datum","err","return","ticks","tickSizeOuter","toReact","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","c","concat","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","push","sort","b","createActive","App","keys","selectedCountry","findIndex","elem","newActive","elm","toggledActive","localeCompare","Components_Chart","Legend_Legend_Legend","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b936a596.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.7173f73d.svg\";","import React from 'react';\nimport colors from '../../Resources/colors.json'\n\nconst ActiveIcon = (props) => {\n    let style;\n    if(props.active){\n        style = { \n                    'fill':colors[props.name], \n                    ...props.style //hack to fix active spacing\n                }\n        console.log(style);\n    }\n\n    if(props.active){\n        console.log(\"styled\");\n    }\n\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 24 24\" className=\"dot\" style={style}>\n            <circle cx=\"12\" cy=\"12\" r=\"12\"/>\n        </svg>\n    );\n};\n\n\nexport default ActiveIcon;","import React from 'react';\nimport ActiveIcon from \"./ActiveIcon\"\n\nconst Active = (props) => {\n    const {active, isSearching, activeCountries} = props;\n\n    const toggleActive =(country) => { \n        props.toggleActive(country);\n    }\n\n    if(activeCountries.length && !isSearching){\n        return (\n            <div className=\"legendActive\"> \n                {activeCountries.map( (el, index) => { \n                    let name = el.name;\n                    return(\n                    <div className=\"countryNameList\" key={index} onClick={() => {toggleActive(el.name) }}>\n                        <span><ActiveIcon active={el.active} name={name} style={{padding:\"0px 5px 0px 0px\"}}/></span>\n                        <span>{name}</span>\n                    </div>) \n                })}\n                <hr />\n            </div>\n        )\n    } \n    return null;\n};\n\nexport default Active;\n","import React from 'react';\nimport ActiveIcon from \"./ActiveIcon\"\n\nconst CountryList = (props) => {\n    const {active, isSearching, countries} = props;\n\n    const toggleActive =(country) =>{ \n        props.toggleActive(country) \n    }\n\n    if(!isSearching){\n        return (\n            <div>\n                <div className=\"legendActive\">\n                    { countries.map( (el, index) => {\n                        let name = el.name;\n                        return(\n                            <div className=\"countryNameList\" key={index} onClick={() => {toggleActive(name) }}>\n                                <span><ActiveIcon active={el.active} name={el.name}/></span> \n                                <span> {name} </span>\n                            </div>\n                        )\n                    }) }\n                    <hr />\n                </div>\n            </div>\n        )\n    } \n    return null\n};\n\nexport default CountryList;\n","import React, { Component } from 'react'\nimport Active from \"./Active\"\nimport CountryList from \"./CountryList\"\nimport \"./Legend.css\"\n\nconst getActive = (countries) => {\n    return countries.filter(el => el.active === true)\n}\n\nexport default class Legend extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            isSearching: false,\n            search:\"\"\n        }\n\n        this.toggleActive = this.toggleActive.bind(this);\n        this.isSearching = this.isSearching.bind(this);\n        this.searchChange = this.searchChange.bind(this)\n    }\n\n    toggleActive(country){\n        this.props.toggleActive(country);\n        this.setState({isSearching:false, search:\"\"})\n    }\n\n    isSearching(){\n        this.setState({isSearching: ! this.state.isSearching})\n    }\n\n    searchChange(event){\n        let isSearching = false;\n        if(this.state.search.length){\n            isSearching = true;\n        }\n        this.setState({ search: event.target.value, isSearching:isSearching })\n    }\n\n    render() {\n        let { search, isSearching } = this.state;\n        let { countries } = this.props;\n        let activeCountries = getActive(countries);\n\n        return (\n            <div className=\"LegendDisplay\">\n                <div className=\"Search\">\n                    <input type=\"text\" placeholder=\"search\" \n                                       value={this.state.search}  \n                                       onChange={this.searchChange} />\n                </div>\n                <Active isSearching={isSearching} \n                        activeCountries={activeCountries}\n                        toggleActive={this.toggleActive} />\n\n                <CountryList isSearching={isSearching} \n                             countries={countries} \n                             toggleActive={this.toggleActive}/> \n            </div>\n        )\n    }\n}\n","import { Component } from 'react'\nimport * as d3 from 'd3'\nimport * as ReactFauxDOM from 'react-faux-dom'\nimport data from \"../Resources/data.json\"\nimport colors from \"../Resources/colors.json\"\n\nclass Chart extends Component {\n    constructor(props){\n        super(props);\n\n        this.makeD3 = this.makeD3.bind(this);\n        this.getActive = this.getActive.bind(this)\n    }\n\n    getActive(){\n        let countries = this.props.countries;\n        let active = countries.filter(el => el.active === true); // I have no idea but this call drops data.....\n        return active;\n    }\n\n    makeD3(){\n        let fauxDiv = ReactFauxDOM.createElement('div');  \n        \n        //  TODO: dynamically add new data\n        let activeNames = this.getActive();\n        let activeData = getDataActive(activeNames)\n        \n        // set the dimensions and margins of the graph\n        var margin = {top: 20, right: 20, bottom: 30, left: 50},\n        width = 960 - margin.left - margin.right,\n        height = 500 - margin.top - margin.bottom;\n\n        // parse the date / time\n        // set the ranges\n        var x = d3.scaleTime().range([0, width]);\n        var y = d3.scaleLinear().range([height, 0]);\n\n        \n\n        let svg = d3.select(fauxDiv).append(\"svg\")\n                    .attr(\"width\", width + margin.left + margin.right)\n                    .attr(\"height\", height + margin.top + margin.bottom)\n                    .append(\"g\")\n                    .attr(\"transform\",\n                        \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n        let parseYear = d3.timeParse(\"%Y\");\n        // Scale the range of the data\n        let sample = data['Canada'][\"Both\"];\n        x.domain(d3.extent(sample, function(d) { return parseYear(d.year) }));\n        y.domain([0, d3.max(getDomain(activeData), function(d) { return d.val; })]);\n\n        // define the line\n        let valueline = d3.line()\n            .x(function(d) { return x(new Date(d.year, 1, 1)); })\n            .y(function(d) { return y(d.val); });\n\n        for( let countryData of activeData){\n            svg.append(\"path\")\n                .datum(countryData.data)\n                .attr(\"class\", \"line\")\n                .attr(\"d\",valueline)\n                .attr(\"stroke-width\", \"2px\")\n                .attr(\"stroke\", colors[countryData.name])\n                .attr('color', colors[countryData.name])\n                .attr(\"fill\", 'none');\n        }\n\n        // Add the X Axis\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call( d3.axisBottom(x).ticks(5).tickSizeOuter(0) );\n\n        // Add the Y Axis\n        svg.append(\"g\")\n            .call( d3.axisLeft(y).ticks(6).tickSizeOuter(0) );\n\n        return fauxDiv;\n    }\n\n    render() {\n        let FauxSvg = this.makeD3();\n\n        return (\n            FauxSvg.toReact()\n        );\n    }\n}\n\nconst getDataFor = (country) =>{\n    return { \n        name:country.name, \n        data:data[[country.name]]['Both'].sort(function(a, b){return a.year - b.year}) \n    }\n\n}\n\nconst getDomain = (countries) =>{\n    let d = [{val:3.0}]\n    for(let c of countries){\n        d = d.concat(c.data);\n    }\n    return d\n}\n\nconst getDataActive = (countries) =>{\n    let activeData = []\n    for(let c of countries){\n        activeData.push(getDataFor(c));\n    }\n    return activeData;\n}\n\nexport default ReactFauxDOM.withFauxDOM(Chart);\n\n// makeD4(){\n//     let fauxDiv = ReactFauxDOM.createElement('div');  \n\n//     // Set the margins\n//     var margin = {top: 60, right: 100, bottom: 20, left: 80},\n//     width = 850 - margin.left - margin.right,\n//     height = 370 - margin.top - margin.bottom;\n\n//     let parseYear = d3.timeParse(\"%Y\")\n//     let formatYear = d3.timeFormat(\"%Y\");\n//     console.log(d3.scaleTime.domain([parseYear(\"1990\"),parseYear(\"2017\")]));\n//     // Set the ranges\n//     var x = d3.scaleTime().domain([parseYear(\"1990\"),parseYear(\"2017\")]).range([0, width]);\n//     var y = d3.scaleLinear().range([height, 0]);\n\n//     // Define the line\n//     var valueLine = d3.line()\n//     .x(function(d) { return x(d.Month); })\n//     .y(function(d) { return y(+d.Sales); })\n\n//     // Create the svg canvas in the \"graph\" div\n//     var svg = d3.select(fauxDiv)\n//                     .append(\"svg\")\n//                     .style(\"width\", width + margin.left + margin.right + \"px\")\n//                     .style(\"height\", height + margin.top + margin.bottom + \"px\")\n//                     .attr(\"width\", width + margin.left + margin.right)\n//                     .attr(\"height\", height + margin.top + margin.bottom)\n//                     .append(\"g\")\n//                     .attr(\"transform\",\"translate(\" + margin.left + \",\" + margin.top + \")\")\n//                     .attr(\"class\", \"svg\");\n    \n//     // Scale the range of the data\n//     x.domain(d3.extent(data, function(d) { return d.year; }));\n//     y.domain([0, d3.max(data, function(d) { return d.val; })]);\n\n//     // Set up the x axis\n//     var xaxis = svg.append(\"g\")\n//         .attr(\"transform\", \"translate(0,\" + height + \")\")\n//         .attr(\"class\", \"x axis\")\n//         .call(d3.axisBottom(x)\n//             .ticks(d3.timeMonth)\n//             .tickSize(0, 0)\n//             .tickSizeInner(0)\n//             .tickPadding(10));\n\n//     // Add the Y Axis\n//     var yaxis = svg.append(\"g\")\n//         .attr(\"class\", \"y axis\")\n//         .call(d3.axisLeft(y)\n//             .ticks(5)\n//             .tickSizeInner(0)\n//             .tickPadding(6)\n//             .tickSize(0, 0));\n\n//     // yaxis.select(\".domain\").style(\"display\",\"none\")\n\n//     // Add a label to the y axis\n//     svg.append(\"text\")\n//         .attr(\"transform\", \"rotate(-90)\")\n//         .attr(\"y\", 0 - 60)\n//         .attr(\"x\", 0 - (height / 2))\n//         .attr(\"dy\", \"1em\")\n//         .style(\"text-anchor\", \"middle\")\n//         .text(\"Deaths per Thousand\")\n//         .attr(\"class\", \"y axis label\");\n\n//     // Draw the line\n//     svg.append(\"path\")\n//         .data([data])\n//         .attr(\"class\", \"line\")\n//         .attr(\"d\", valueLine);\n//     console.log(data)\n\n//     return fauxDiv;\n// }","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport * as d3 from 'd3'\nimport data from \"./Resources/data.json\"\nimport Legend from './Components/Legend/Legend'\nimport Chart from \"./Components/Chart\"\nimport \"./Components/Chart/Chart.css\"\n\nconst createActive = (countries) => {\n  let d = []\n  for( let country of countries.sort() ){\n    d.push({name:country, active:false})\n  }\n  return d\n}\n\nclass App extends Component {\n  constructor(props){\n    super(props)\n    this.state = { countries : createActive(Object.keys(data)),}\n\n    this.toggleActive = this.toggleActive.bind(this)\n  }\n\n  toggleActive(country){\n    let countries = this.state.countries;\n\n    let selectedCountry = countries[ countries.findIndex(elem => elem.name == country) ]\n    let newActive = countries.filter(elm => elm.name !== country);\n\n    let toggledActive = !selectedCountry.active;\n    newActive.push({name:country, active:toggledActive})\n\n    this.setState({countries: newActive.sort((a, b) =>  a.name.localeCompare(b.name) )})\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"Chart-Wrapper\">\n          <Chart countries={this.state.countries}/>\n          <Legend countries={this.state.countries}\n                  toggleActive={this.toggleActive}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}